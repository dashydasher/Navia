{% extends "layouts/master.html.twig" %}

{% block header %}
{% endblock %}

{% block content %}

<section>
<div class="container">
  <div class="col-md-7 col-md-offset-4">
  <div class="row">
       <div class="row">

           <div class="col-lg-6 ">
           <h4 align="center">Razlog mog raspoloženja:</h4>
               <div class="input-group">
                   <span class="input-group-addon beautiful">
                      <input type="radio" name="razlog" value="brzo">
                   </span>
                   <input type="text" class="form-control" value="Profesor objašnjava prebrzo" readonly>
              </div>
              <div class="input-group">
                  <span class="input-group-addon beautiful">
                     <input type="radio" name="razlog" value="sporo">
                  </span>
                  <input type="text" class="form-control" value="Profesor objašnjava presporo" readonly>
             </div>
               <div class="input-group">
                   <span class="input-group-addon beautiful">
                       <input type="radio" name="razlog" value="dosadan">
                   </span>
                   <input type="text" class="form-control" value="Profesor je dosadan" readonly>
              </div>
              <div class="input-group">
                   <span class="input-group-addon beautiful">
                       <input type="radio" name="razlog" value="digresija">
                   </span>
                   <input type="text" class="form-control" value="Profesor ima previše digresija" readonly>
              </div>
              <div class="input-group">
                   <span class="input-group-addon beautiful">
                       <input type="radio" name="razlog" value="osobni">
                   </span>
                   <input type="text" class="form-control" value="Osobni razlog" readonly>
              </div>
           </div>
       </div>

   </div>
</div>
</div>
</section>
<br/>
<section>
<div class="container">
<div class="row">
<div class="col-md-6 col-md-offset-3">

   <div class="well">
          <div class="input-group">
             <input class="btn btn-lg" name="question" id="questionInput" type="textarea" placeholder="Pitanje">
             <button id="pitanje-submit" class="btn btn-info btn-lg">Pošalji</button>
          </div>
         <br/>
          <div class="input-group">
             <input class="btn btn-lg" name="comment" id="commentInput" type="textfield" placeholder="Komentar">
             <button id="komentar-submit" class="btn btn-info btn-lg">Pošalji</button>
          </div>

          <ul id="objavljeni-komentari">
          </ul>
   </div>
</div>
</div>
</div>
</section>

{% endblock %}

{% block footer %}

    <script>
        $("#komentar-submit").on("click", function() {
            var serializedData = {
                "comment": $("#commentInput").val(),
                "signature": "ajax_student",
                "room_id": 1,
            };
            $.post("./php-api/comment-add.php", serializedData)
                .done(function(data) {
                    console.log(data);
                    if (data.success) {
                        $("#objavljeni-komentari").append( $("li").append(data.comment) );
                    } else {
                        alert(data.error);
                    }
                });
        });

        $("#pitanje-submit").on("click", function() {
            var serializedData = {
                "question": $("#questionInput").val(),
                "signature": "ajax_student",
                "room_id": 1,
            };
            $.post("./php-api/question-add.php", serializedData)
                .done(function(data) {
                    console.log(data);
                    if (data.success) {
                        $("#objavljena-pitanja").append( $("li").append(data.question) );
                    } else {
                        alert(data.error);
                    }
                });
        });
    </script>

{% endblock %}
